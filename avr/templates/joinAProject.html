{% extends "layout.html" %} 
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}">
{% endblock styles %}

{% block navbar %}
<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark justify-content-between" style="background-color: rgb(0, 7, 24) !important; ">
	<a class="navbar-brand  px-4" href="{{ url_for('home') }}">ARVR Lab</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarSupportedContent">
		<div class="navbar-container">
			<img src="../static/images/profile/{{ student.profilePic }}" alt="Avatar" class="avatar">
		</div>
		<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
		<li class="nav-item dropdown my-2 my-lg-0">
			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				{{ student.firstNameEng }} {{ student.lastNameEng }}
			</a>
			<div class="dropdown-menu " aria-labelledby="navbarDropdown">
			<a class="dropdown-item" href="{{ url_for('editAccount') }}">Edit Account</a>
			<div class="dropdown-divider"></div>
			<a class="dropdown-item" href="{{ url_for('logout') }}">Logout</a>
			</div>
		</li>	
		<li class="nav-item">
			<a class="nav-link" href="{{ url_for('home') }}">My Projects</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" href="{{ url_for('joinAProject') }}">Join a Project</a>
		</li>
		</ul>	
	</div>
</nav>
{% endblock navbar %}

{% block content %}
<div class="container">
	<form method="POST" action="">
		{{ form.hidden_tag() }}
		<fieldset class="form-group" style="border: 0px solid green;">
			<legend class="border-bottom mb-4" style="padding-top:1vh;"><h2>Join a Project</h2></legend>
			
			<div class="col-sm-7 mx-auto" style="border: 0px solid red;">
				{% with messages = get_flashed_messages(with_categories=true) %}
					{% if messages %}
						{% for category, message in messages %}
							<div class="alert alert-{{ category }}">
								{{ message }}
							</div>
						{% endfor %}
					{% endif %}
				{% endwith %}
			</div>

			<div class="form-group row justify-content-md-center required">
				{{ form.projectTitle.label(class="col-md-2 col-form-label") }} 
				<div class="col-md-3">
					{% if form.projectTitle.errors %} 
						{{ form.projectTitle(class="custom-select custom-select-lg my-select is-invalid") }}
						<div class="invalid-feedback">
							{% for error in form.projectTitle.errors %}
								<span>{{ error }}</span>
							{% endfor %}
						</div>
					{% else %} 
						{{ form.projectTitle(class="custom-select custom-select-lg my-select") }} 
					{% endif %}
				</div>
				<div class="col-md-1"></div>
			</div>
		</fieldset>
		<div class="form-group my-4">
			{{ form.submitForm(class="btn btn-primary col-sm-2 btn-lg") }}
		</div>	
	</form>
</div>
{% endblock content %}